# Урок 18. Объединение команд

[На главную](/mdk0401.github.io)

До сих пор мы использовали консоль `PowerShell` для вызова команд по одной. Для простого кода это не проблема: вы запускаете нужную команду, а затем еще одну, если требуется. Но для более крупных проектов необходимость вызывать каждую команду по отдельности занимает слишком много времени. 

К счастью, вы можете комбинировать команды, чтобы вызывать их как единое целое. Существует два способа комбинирования команд — с помощью **конвейера** `PowerShell` и путем сохранения кода во внешних сценариях.

В большинстве оболочек командной строки, включая `cmd.exe`, под конвейеризацией понимается объединение нескольких команд путем последовательного перенаправления выходного потока одной команды во входной поток другой, что позволяет передавать текстовую информацию между разными процессами.

Механизм композиции команд представляет собой, вероятно, наиболее ценную концепцию, используемую в интерфейсах командной строки. Конвейеры не только снижают усилия, прилагаемые при вводе сложных команд, но и облегчают отслеживание выполняемых командами действий. 

Полезной чертой конвейеров является то, что они не зависят от числа передаваемых элементов, так как конвейер действует на каждый элемент отдельно. Кроме того, каждая команда в конвейере (называемая элементом конвейера) обычно передает свой вывод следующей команде в конвейере, элемент за элементом. Благодаря этому, как правило, снижается потребление ресурсов для сложных команд и появляется возможность получать выводимую информацию немедленно.

## Запуск службы Windows 
Чтобы показать, зачем стоит комбинировать команды, начнем с простого примера, который выполним по старинке. Будем использовать две команды: `Get-Service`, которая запрашивает службы Windows и возвращает информацию о них, и `Start-Service`, запускающую эти службы.

```powershell
Get-Service
```

```powershell
Start-Service 'wuauserv'
```

Когда вы запускаете только одну службу, выполнение таких команд не слишком напрягает. Но представьте, как вам это надоест, если речь пойдет о работе с сотнями сервисов.

> [!NOTE]
> Для остановки служб используется командлет `Stop-Service`

